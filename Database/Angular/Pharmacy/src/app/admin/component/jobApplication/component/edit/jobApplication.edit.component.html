<div class="card">
   <p-toolbar styleClass="mb-2">
           <ng-template pTemplate="left"> 
           <button pButton pRipple label="List" icon="pi pi-bars" class="p-button-success mr-2" (click)="backToList()"></button>
           <button pButton pRipple label="Detail" icon="pi pi-folder-open" class="p-button-success mr-2" (click)="detail()"></button>         
   </ng-template>
   </p-toolbar>
   
   
   
   <section class="content">
      <div class="container-fluid">
         <div class="row justify-content-around">
            <div class="col-md-12">
               <div class="card card-primary">
                  <div class="card-header">
                     <h3 class="card-title">Job Application</h3>
                  </div>
                  <div>
                  <form method="put" [formGroup]="editJobApplicationForm" (ngSubmit)="update()">                   
                     <div class="card-body">                     
                      <div class="form-group">
                         <label for="jobId">Job ID</label>
                         <input type="text" class="form-control" id="jobId" formControlName="jobId" value="{{jobApplication.jobId}}" readonly>
                         
                      </div>
                        <div class="form-group">
                           <label for="job">Job Name</label>
                           <input type="text" class="form-control" id="job" formControlName="job" value="{{jobApplication.job}}" readonly>
                        </div>
 
                        <div class="form-group">
                         <label for="candidateId">Candidate ID</label>
                         <input type="text" class="form-control" id="candidateId" formControlName="candidateId" readonly>
                      </div>
 
                      <div class="form-group">
                       <label for="candidate">Candidate</label>
                       <input type="text" class="form-control" id="candidate" formControlName="candidate" readonly>
                    </div>
 
                    <div class="form-group">
                     <label for="applyDate">Applied Date</label>
                     <input type="text" class="form-control" id="applyDate" formControlName="applyDate" readonly>
                    </div>
 
                    <div class="form-group">
                     <label for="statusId">Select Status</label>
                     <select class="form-control" formControlName="statusId" id="statusId">
                         <option *ngFor="let status of statuses" value="{{status.id}}">{{status.name}}</option>
                     </select>
                  </div>
 
                  <div class="form-group">
                   <label for="dateInterview">Date Interview</label>&nbsp;
                   <p-calendar id="dateInterview" formControlName="dateInterview" dateFormat="dd/mm/yy" [showIcon]="true"></p-calendar>
                  </div>
                        
                     </div>
                     <div class="card-footer">
                        <button type="submit" class="btn btn-primary">Submit</button>
                     </div>
                  </form>
                 </div>                
               </div>
               <div class="card card-primary">
                <div class="card-header">
                   <h3 class="card-title">Email To Candidate</h3>
                </div>
                <div>
                <form method="put" [formGroup]="emailForm" (ngSubmit)="sendEmail()">                   
                   <div class="card-body">
                      <div class="form-group">
                         <label for="to">To</label>
                         <input type="text" class="form-control" id="to" formControlName="to">
                        </div>
                        <div class="form-group">
                         <label for="subject">Subject</label>
                         <input type="text" class="form-control" id="subject" formControlName="subject">
                        </div>                     
                      <div class="form-group">
                         <label for="content">Content</label>
                         <p-editor formControlName="content" [style]="{'height':'400px'}"></p-editor>
                      </div>
                      
                      
                   </div>
                   <div class="card-footer">
                      <button type="submit" class="btn btn-primary">Send</button>
                   </div>
                </form>
               </div>                
             </div>            
              </div>
         </div>
         <div class="row justify-content-around">
           <div class="col-md-6">
             <div class="card card-primary">
                <div class="card-header">
                   <h3 class="card-title">Candidate Detail</h3>
                </div>
                <div>                                     
                   <div class="card-body"> 
                     <div class="form-group">
                       <label for="name">Candidate ID</label>
                       <input type="text" class="form-control" id="id" value="{{candidate.id}}" readonly>
                    </div>
 
                      <div class="form-group">
                         <label for="fullname">Fullname</label>
                         <input type="text" class="form-control" id="fullname" value="{{candidate.fullname}}" readonly>
                      </div>
                      <div class="form-group">
                         <label for="gender">Gender</label>
                         <input type="text" class="form-control" id="status" *ngIf="candidate.gender; else elseBlock" value="Female" readonly>
                         <ng-template #elseBlock><input type="text" class="form-control" id="status" value="Male" readonly></ng-template>
                    </div>
                    <div class="form-group">
                      <label for="dob">Birthday</label>
                      <input type="text" class="form-control" id="dob" value="{{candidate.dob}}" readonly>
                   </div>
                   <div class="form-group">
                      <label for="education">Education</label>
                      <input type="text" class="form-control" id="education" value="{{candidate.education}}" readonly>
                   </div>
                   <div class="form-group">
                      <label for="address">Address</label>
                      <input type="text" class="form-control" id="address" value="{{candidate.address}}" readonly>
                   </div>
                   <div class="form-group">
                      <label for="phone">Phone</label>
                      <input type="text" class="form-control" id="phone" value="{{candidate.phone}}" readonly>
                   </div>
                                            
                    <div>
                      <label for="status">Status</label>
                      <input type="text" class="form-control" id="status" *ngIf="candidate.status; else elseBlock" value="Active" readonly>
                      <ng-template #elseBlock><input type="text" class="form-control" id="status" value="Inactive" readonly></ng-template>
                      </div> 
                      <br>                     
                      
                   </div>
               </div>                
             </div>             
            </div>
            <div class="col-md-6">
             <div class="card card-primary">
                <div class="card-header">
                   <h3 class="card-title">Candidate Photo</h3>
                </div>
                <div>
                   <img src="{{candidatePhotos[0].url}}" width="100" height="100">
                </div>
           </div>
             <div class="card card-primary">
                <div class="card-header">
                   <h3 class="card-title">Candidate CV</h3>
                </div>
                <div>
                   <div class="card-body p-0">
                      <p-table responsiveLayout="scroll" [value]="candidateCVs">
                        <ng-template pTemplate="header">
                          <tr>
                            <th>File Name</th>
                            <th>File Size</th>
                            <th></th>
                          </tr>
                        </ng-template>
                        
                         <ng-template pTemplate="body" let-candidateCV>
                          <tr>
                            <td>{{candidateCV.name}}</td>
                            <td>{{candidateCV.length}} b</td>
                            <td class="text-right py-0 align-middle">
                              <div class="btn-group btn-group-sm">
                                <a href="{{candidateCV.url}}" class="btn btn-info"><i class="fas fa-eye"></i></a>                                  
                              </div>
                            </td>
                         </ng-template>
                      </p-table>
                    </div>
                </div>
           </div>
           
           </div>
         </div>
         <div class="row justify-content-around">
           <div class="col-md-12">
             <div class="card card-primary">
                <div class="card-header">
                   <h3 class="card-title">Job Detail</h3>
                </div>
                <div>                                     
                   <div class="card-body"> 
                     <div class="form-group">
                       <label for="name">Job ID</label>
                       <input type="text" class="form-control" id="id" value="{{job.id}}" readonly>
                    </div>
                    <div class="form-group">
                      <label for="jobName">Name</label>
                      <input type="text" class="form-control" id="jobName" value="{{job.jobName}}" readonly>
                   </div>
 
                      <div class="form-group">
                         <label for="location">Location</label>
                         <input type="text" class="form-control" id="location" value="{{job.location}}" readonly>
                      </div>
                      <div class="form-group">
                         <label for="salary">Salary</label>
                         <input type="text" class="form-control" id="salary" value="{{job.salary}}" readonly>
                      </div>
                      
                    <div class="form-group">
                      <label for="description">Description</label>
                      <div class="form-control" id="description" [innerHTML]="job.description" readonly></div>
                 </div>
                                            
                    <div class="form-group">
                      <label for="status">Status</label>
                      <input type="text" class="form-control" id="status" *ngIf="job.status; else elseBlock" value="Active" readonly>
                      <ng-template #elseBlock><input type="text" class="form-control" id="status" value="Inactive" readonly></ng-template>
                      </div>
                      
                      <div class="form-group">
                         <label for="created">Created</label>
                         <input type="text" class="form-control" id="created" value="{{job.created}}" readonly>
                      </div>
                      <br>                     
                      
                   </div>
               </div>                
             </div>             
            </div>
         </div>
      </div>
   </section>
   </div>
   <p-dialog header="Update" [(visible)]="display">
     Done
  </p-dialog>
  <p-dialog header="Email Sent" [(visible)]="displayEmail">
    Done
 </p-dialog>